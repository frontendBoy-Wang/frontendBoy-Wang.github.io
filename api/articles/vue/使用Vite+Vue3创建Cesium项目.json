{"title":"使用Vite+Vue3创建Cesium项目","uid":"f47aa374ec8bb25754a7283a60088fec","slug":"vue/使用Vite+Vue3创建Cesium项目","date":"2023-04-15T02:46:35.000Z","updated":"2024-12-25T06:40:06.000Z","comments":true,"path":"api/articles/vue/使用Vite+Vue3创建Cesium项目.json","keywords":"前端少年汪,前端,后端,全栈工程师,程序员,vue,react,Golang,Java,JavaScript,Python,frontendBoy-Wang","cover":"../img/45.png","content":"<h1 id=\"Vite-Vue3-Cesium项目模版\"><a href=\"#Vite-Vue3-Cesium项目模版\" class=\"headerlink\" title=\"Vite+Vue3+Cesium项目模版\"></a>Vite+Vue3+Cesium项目模版</h1><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>Cesium是AGI公司计算机图形开发小组与2011年研发的三维地球和地图可视化开源JavaScript库，Cesium一词来源于化学元素铯，铯是制造原子钟的关键元素，研发小组通过命名强调Cesium产品精益求精，专注时间数据可视化。Cesium为三维GIS提供了一个高效的数据可视化平台</p></blockquote>\n<h2 id=\"使用viet创建vue3项目\"><a href=\"#使用viet创建vue3项目\" class=\"headerlink\" title=\"使用viet创建vue3项目\"></a>使用viet创建vue3项目</h2><p>创建vue3项目 这里使用的是vue的模版。如果选择其他框架，则不用加–template vue<br><code>pnpm create vite vite+vue3+cesium --template vue</code></p>\n<p>进入项目 <code>cd vite-app</code></p>\n<p>安装依赖 <code>pnpm install</code></p>\n<p>运行项目 <code>pnpm run dev</code></p>\n<p><img src=\"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/842db20b28964cc09d3be4b6d1432f07~tplv-k3u1fbpfcp-watermark.image\" alt=\"img.png\"></p>\n<p>看到这个页面就说明vite+vue3的项目初始化成功了，下面就是安装和初始化cesium框架和cesium的vite插件了 在vite项目中要正常使用cesium我目前知道的有两种方法。</p>\n<p>下面先讲第一种，也就是使用vite-plugin-cesium这个插件 首先找到这个插件的git仓库 <a href=\"https://github.com/nshen/vite-plugin-cesium\">https://github.com/nshen/vite-plugin-cesium</a></p>\n<h2 id=\"第一种方法\"><a href=\"#第一种方法\" class=\"headerlink\" title=\"第一种方法\"></a>第一种方法</h2><h3 id=\"install\"><a href=\"#install\" class=\"headerlink\" title=\"install\"></a>install</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">npm i cesium vite-plugin-cesium vite -D\n\nyarn add cesium vite-plugin-cesium vite -D</code></pre>\n\n<h3 id=\"Usage\"><a href=\"#Usage\" class=\"headerlink\" title=\"Usage\"></a>Usage</h3><p>在vite.config.js文件中添加cesium的插件</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">import &#123; defineConfig &#125; from &#39;vite&#39;;\nimport cesium from &#39;vite-plugin-cesium&#39;;\nexport default defineConfig(&#123;\n  plugins: [cesium()]\n&#125;);</code></pre>\n\n<h3 id=\"下面去页面中初始化cesium\"><a href=\"#下面去页面中初始化cesium\" class=\"headerlink\" title=\"下面去页面中初始化cesium\"></a>下面去页面中初始化cesium</h3><pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">&lt;script setup&gt;\nimport &#123;onMounted, ref&#125; from &#39;vue&#39;\nimport * as Cesium from &#39;cesium&#39;\n\n&#x2F;&#x2F;cesium初始化必须写在mounted生命周期里面，否则会报错&quot;Element with id &quot;cesiumContainer&quot; does not exist in the document.&quot;\nonMounted(() &#x3D;&gt; &#123;\n  const viewer &#x3D; new Cesium.Viewer(&#39;cesiumContainer&#39;, &#123;\n    &#x2F;&#x2F;这里是配置项\n  &#125;)\n&#125;)\n&lt;&#x2F;script&gt;\n\n&lt;template&gt;\n  &lt;div id&#x3D;&quot;cesiumContainer&quot;&gt;&lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n\n&lt;style scoped&gt;\n#cesiumContainer &#123;\n  width: 100vw;\n  height: 100vh;\n&#125;\n&lt;&#x2F;style&gt;</code></pre>\n\n<p><img src=\"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fd081af2b7874a14922f01f365d21cbb~tplv-k3u1fbpfcp-watermark.image\" alt=\"img_1.png\"></p>\n<p>发现样式有些问题。我一看，哦，原来是style.css中有模版的默认样式的影响。 把style.css中的默认样式删除就好了</p>\n<p><img src=\"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d4c78e6c774c42da81b2bbdd17517512~tplv-k3u1fbpfcp-watermark.image\" alt=\"img_3.png\"></p>\n<p>这才是正确的姿势嘛！🚀</p>\n<h2 id=\"第2种方法\"><a href=\"#第2种方法\" class=\"headerlink\" title=\"第2种方法\"></a>第2种方法</h2><p>第二种方法就是本地引入，把下载好的cesium依赖包（node_modules里面）复制放到public里面， 然后在index.html里面引入cesium和css文件  </p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">\n&lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;.&#x2F;public&#x2F;Cesium&#x2F;Cesium.js&quot;&gt;&lt;&#x2F;script&gt;\n\n&lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;.&#x2F;public&#x2F;Cesium&#x2F;Widgets&#x2F;widgets.css&quot;&gt;</code></pre>\n\n<p><img src=\"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7d0d2941943747278d9212f487e3c8f6~tplv-k3u1fbpfcp-watermark.image\" alt=\"img_3.png\"></p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">&lt;!DOCTYPE html&gt;\n&lt;html lang&#x3D;&quot;en&quot;&gt;\n  &lt;head&gt;\n    &lt;meta charset&#x3D;&quot;UTF-8&quot; &#x2F;&gt;\n    &lt;link rel&#x3D;&quot;icon&quot; type&#x3D;&quot;image&#x2F;svg+xml&quot; href&#x3D;&quot;&#x2F;vite.svg&quot; &#x2F;&gt;\n    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1.0&quot; &#x2F;&gt;\n    &lt;title&gt;Vue+Cesium&lt;&#x2F;title&gt;\n      &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;.&#x2F;public&#x2F;Cesium&#x2F;Widgets&#x2F;widgets.css&quot;&gt;\n\n![img_3.png](https:&#x2F;&#x2F;p6-juejin.byteimg.com&#x2F;tos-cn-i-k3u1fbpfcp&#x2F;06e65d12be0540ddb17c9a7b2476a7e2~tplv-k3u1fbpfcp-watermark.image?)\n  &lt;&#x2F;head&gt;\n  &lt;body&gt;\n    &lt;div id&#x3D;&quot;app&quot;&gt;&lt;&#x2F;div&gt;\n    &lt;script type&#x3D;&quot;module&quot; src&#x3D;&quot;&#x2F;src&#x2F;main.js&quot;&gt;&lt;&#x2F;script&gt;\n    &lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;.&#x2F;public&#x2F;Cesium&#x2F;Cesium.js&quot;&gt;&lt;&#x2F;script&gt;\n\n![img_1.png](https:&#x2F;&#x2F;p3-juejin.byteimg.com&#x2F;tos-cn-i-k3u1fbpfcp&#x2F;cd519580e2904edbb34dc4d0dba5a00b~tplv-k3u1fbpfcp-watermark.image?)\n  &lt;&#x2F;body&gt;\n&lt;&#x2F;html&gt;</code></pre>\n\n<p><img src=\"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dcacaa51c6074d579fe935378e2fc551~tplv-k3u1fbpfcp-watermark.image\" alt=\"img_3.png\"></p>\n<p>然后同样的去页面种初始化cesium就可以了。</p>\n<p>不过还有一个小问题，在控制台中我发现有个报错:</p>\n<p><em>VM19:1 Blocked script execution in ‘about:blank’ because the document’s frame is sandboxed and the ‘allow-scripts’ permission is not set.</em></p>\n<p>目前还没找到解决的办法</p>\n<p>下篇文章将介绍vite+react+cesium应该如何搭建react项目框架,以及cesium的一些概念和基本知识。</p>\n","feature":false,"text":"Vite+Vue3+Cesium项目模版 Cesium是AGI公司计算机图形开发小组与2011年研发的三维地球和地图可视化开源JavaScript库，Cesium一词来源于化学元素铯，铯是制造原子钟的关键元素，研发小组通过命名强调Cesium产品精益求精，专注时间数据可视化。Ce...","link":"","photos":[],"count_time":{"symbolsCount":"3.4k","symbolsTime":"3 mins."},"categories":[{"name":"vue3","slug":"vue3","count":1,"path":"api/categories/vue3.json"}],"tags":[{"name":"cesium","slug":"cesium","count":2,"path":"api/tags/cesium.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Vite-Vue3-Cesium%E9%A1%B9%E7%9B%AE%E6%A8%A1%E7%89%88\"><span class=\"toc-text\">Vite+Vue3+Cesium项目模版</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8viet%E5%88%9B%E5%BB%BAvue3%E9%A1%B9%E7%9B%AE\"><span class=\"toc-text\">使用viet创建vue3项目</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%AC%AC%E4%B8%80%E7%A7%8D%E6%96%B9%E6%B3%95\"><span class=\"toc-text\">第一种方法</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#install\"><span class=\"toc-text\">install</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Usage\"><span class=\"toc-text\">Usage</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%B8%8B%E9%9D%A2%E5%8E%BB%E9%A1%B5%E9%9D%A2%E4%B8%AD%E5%88%9D%E5%A7%8B%E5%8C%96cesium\"><span class=\"toc-text\">下面去页面中初始化cesium</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%AC%AC2%E7%A7%8D%E6%96%B9%E6%B3%95\"><span class=\"toc-text\">第2种方法</span></a></li></ol></li></ol>","author":{"name":"前端少年汪","slug":"blog-author","avatar":"https://p3-passport.byteimg.com/img/user-avatar/46cf67c329246db441271a06f6132633~100x100.awebp","link":"/","description":"一个追逐技术的全栈工程师 <br /> @ <b>公众号：前端少年汪</b>","socials":{"github":"https://github.com/frontendBoy-Wang","twitter":"","stackoverflow":"https://stackoverflow.com/users/16856904/frontendboy-wang","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/people/qian-ke-sao-ren-wmq","csdn":"https://blog.csdn.net/qq_44647871?spm=1010.2135.3001.5421","juejin":"https://juejin.cn/user/3570847174897447","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/392982262"}}}},"mapped":true,"prev_post":{"title":"前端10大排序算法详解","uid":"85ace94f5f65156ab225562196d7492a","slug":"js/前端10大排序算法详解","date":"2023-04-16T02:46:35.000Z","updated":"2024-12-25T06:40:06.000Z","comments":true,"path":"api/articles/js/前端10大排序算法详解.json","keywords":"前端少年汪,前端,后端,全栈工程师,程序员,vue,react,Golang,Java,JavaScript,Python,frontendBoy-Wang","cover":"../img/46.png","text":" 冒泡🫧排序 通过相邻元素的比较和交换，使得每一趟循环都能找到未有序数组的最大值或最小值。内循环： 使用相邻双指针 j , j + 1 从左至右遍历，依次比较相邻元素大小，若左元素大于右元素则将它们交换；遍历完成时，最大元素会被交换至数组最右边 。外循环： 不断重复「内循环」，每...","link":"","photos":[],"count_time":{"symbolsCount":"11k","symbolsTime":"10 mins."},"categories":[{"name":"算法","slug":"算法","count":1,"path":"api/categories/算法.json"}],"tags":[{"name":"排序","slug":"排序","count":1,"path":"api/tags/排序.json"}],"author":{"name":"前端少年汪","slug":"blog-author","avatar":"https://p3-passport.byteimg.com/img/user-avatar/46cf67c329246db441271a06f6132633~100x100.awebp","link":"/","description":"一个追逐技术的全栈工程师 <br /> @ <b>公众号：前端少年汪</b>","socials":{"github":"https://github.com/frontendBoy-Wang","twitter":"","stackoverflow":"https://stackoverflow.com/users/16856904/frontendboy-wang","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/people/qian-ke-sao-ren-wmq","csdn":"https://blog.csdn.net/qq_44647871?spm=1010.2135.3001.5421","juejin":"https://juejin.cn/user/3570847174897447","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/392982262"}}}},"feature":false},"next_post":{"title":"gorm的CRUD操作","uid":"c277cd2494021925450e9b212637db7d","slug":"go/一文入门gorm和xorm的基本操作（CRUD）","date":"2023-04-14T02:46:35.000Z","updated":"2024-12-25T06:40:06.000Z","comments":true,"path":"api/articles/go/一文入门gorm和xorm的基本操作（CRUD）.json","keywords":"前端少年汪,前端,后端,全栈工程师,程序员,vue,react,Golang,Java,JavaScript,Python,frontendBoy-Wang","cover":"../img/44.jpeg","text":"gorm的CRUD操作安装go get -u gorm.io&#x2F;gorm go get -u gorm.io&#x2F;driver&#x2F;mysql 第一个是gorm的库，第二个是mysql的连接驱动 连接数据库GORM 官方支持的数据库类型有： MySQL, Po...","link":"","photos":[],"count_time":{"symbolsCount":"14k","symbolsTime":"13 mins."},"categories":[{"name":"go","slug":"go","count":3,"path":"api/categories/go.json"}],"tags":[{"name":"gorm","slug":"gorm","count":1,"path":"api/tags/gorm.json"}],"author":{"name":"前端少年汪","slug":"blog-author","avatar":"https://p3-passport.byteimg.com/img/user-avatar/46cf67c329246db441271a06f6132633~100x100.awebp","link":"/","description":"一个追逐技术的全栈工程师 <br /> @ <b>公众号：前端少年汪</b>","socials":{"github":"https://github.com/frontendBoy-Wang","twitter":"","stackoverflow":"https://stackoverflow.com/users/16856904/frontendboy-wang","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/people/qian-ke-sao-ren-wmq","csdn":"https://blog.csdn.net/qq_44647871?spm=1010.2135.3001.5421","juejin":"https://juejin.cn/user/3570847174897447","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/392982262"}}}},"feature":false}}