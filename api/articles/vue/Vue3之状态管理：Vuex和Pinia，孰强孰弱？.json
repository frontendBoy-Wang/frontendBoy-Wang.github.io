{"title":"Vue3ä¹‹çŠ¶æ€ç®¡ç†ï¼šVuexå’ŒPiniaï¼Œå­°å¼ºå­°å¼±ï¼Ÿ","uid":"d139f4f2bd842ae73bfb9ae3f3922047","slug":"vue/Vue3ä¹‹çŠ¶æ€ç®¡ç†ï¼šVuexå’ŒPiniaï¼Œå­°å¼ºå­°å¼±ï¼Ÿ","date":"2023-03-14T02:46:35.000Z","updated":"2024-12-25T06:40:06.000Z","comments":true,"path":"api/articles/vue/Vue3ä¹‹çŠ¶æ€ç®¡ç†ï¼šVuexå’ŒPiniaï¼Œå­°å¼ºå­°å¼±ï¼Ÿ.json","keywords":"å‰ç«¯å°‘å¹´æ±ª,å‰ç«¯,åç«¯,å…¨æ ˆå·¥ç¨‹å¸ˆ,ç¨‹åºå‘˜,vue,react,Golang,Java,JavaScript,Python,frontendBoy-Wang","cover":"../img/34.png","content":"<p><img src=\"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a35ba51a593a4558811b005fc02089ef~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1700&h=1063&s=420599&e=jpg&b=350e0a\" alt=\"4-wallhaven-0q7geq.jpg\"></p>\n<h1 id=\"ä»€ä¹ˆæ˜¯çŠ¶æ€ç®¡ç†\"><a href=\"#ä»€ä¹ˆæ˜¯çŠ¶æ€ç®¡ç†\" class=\"headerlink\" title=\"ä»€ä¹ˆæ˜¯çŠ¶æ€ç®¡ç†\"></a>ä»€ä¹ˆæ˜¯çŠ¶æ€ç®¡ç†</h1><p>åœ¨ä»‹ç»Vuexå’ŒPiniaä¹‹å‰ï¼Œæˆ‘ä»¬æœ‰å¿…è¦å…ˆäº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯çŠ¶æ€ç®¡ç†ã€‚</p>\n<p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼ŒçŠ¶æ€ç®¡ç†å™¨æ˜¯ä¸€ç§ç”¨äºç®¡ç†åº”ç”¨ç¨‹åºå…¨å±€çŠ¶æ€çš„å·¥å…·ã€‚å®ƒé€šå¸¸ç”¨äºå¤§å‹åº”ç”¨ç¨‹åºï¼Œå¯ä»¥å¸®åŠ©å¼€å‘è€…æ›´å¥½åœ°ç»„ç»‡å’Œç®¡ç†çŠ¶æ€ï¼Œå¹¶æä¾›ä¸€äº›å¼ºå¤§çš„å·¥å…·æ¥ç®€åŒ–çŠ¶æ€çš„å˜æ›´å’Œä½¿ç”¨ã€‚</p>\n<h1 id=\"å‰ç«¯å¸¸ç”¨çš„çŠ¶æ€ç®¡ç†åº“\"><a href=\"#å‰ç«¯å¸¸ç”¨çš„çŠ¶æ€ç®¡ç†åº“\" class=\"headerlink\" title=\"å‰ç«¯å¸¸ç”¨çš„çŠ¶æ€ç®¡ç†åº“\"></a>å‰ç«¯å¸¸ç”¨çš„çŠ¶æ€ç®¡ç†åº“</h1><p>ä»¥ä¸‹æ˜¯å‡ ä¸ªå¸¸è§çš„å‰ç«¯çŠ¶æ€ç®¡ç†å™¨ï¼š</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><ol>\n<li><p>Reduxï¼šRedux æ˜¯ React ç”Ÿæ€ç³»ç»Ÿä¸­æœ€æµè¡Œçš„çŠ¶æ€ç®¡ç†åº“ä¹‹ä¸€ã€‚å®ƒä½¿ç”¨å•å‘æ•°æ®æµã€çº¯å‡½æ•°å’Œä¸å¯å˜æ•°æ®ç»“æ„æ¥ç®¡ç†çŠ¶æ€ã€‚Redux æä¾›äº†ä¸€ä¸ªå­˜å‚¨æ‰€æœ‰çŠ¶æ€çš„å…¨å±€ storeï¼Œå¹¶ä½¿ç”¨ actions å’Œ reducers æ¥ä¿®æ”¹å’Œå¤„ç†çŠ¶æ€çš„å˜æ›´ã€‚Redux è¿˜å…·æœ‰å¼ºå¤§çš„å·¥å…·å’Œæ’ä»¶æ”¯æŒï¼Œå¯ä»¥å¸®åŠ©å¼€å‘è€…è°ƒè¯•å’Œä¼˜åŒ–åº”ç”¨ç¨‹åºã€‚</p>\n</li>\n<li><p>MobXï¼šMobX æ˜¯ä¸€ç§å“åº”å¼çŠ¶æ€ç®¡ç†åº“ï¼Œå¯ä»¥è‡ªåŠ¨è¿½è¸ªçŠ¶æ€çš„å˜åŒ–å¹¶è§¦å‘æ›´æ–°ã€‚å®ƒæä¾›äº†ä¸€äº›è£…é¥°å™¨å’Œ APIï¼Œå¯ä»¥å°†æ™®é€šçš„ JavaScript å¯¹è±¡è½¬æ¢ä¸ºå“åº”å¼å¯¹è±¡ï¼Œä»è€Œå®ç°çŠ¶æ€çš„ç®¡ç†å’Œå…±äº«ã€‚ä¸ Redux ä¸åŒï¼ŒMobX çš„æ•°æ®æµæ˜¯åŒå‘çš„ï¼Œå…è®¸ç›´æ¥ä¿®æ”¹çŠ¶æ€å¹¶è§¦å‘æ›´æ–°ã€‚</p>\n</li>\n<li><p>VueXï¼šVueX æ˜¯ Vue.js å®˜æ–¹æä¾›çš„çŠ¶æ€ç®¡ç†åº“ã€‚å®ƒåŸºäº Flux æ¶æ„æ¨¡å¼ï¼Œæä¾›äº†ä¸€ä¸ªä¸­å¤®çŠ¶æ€å­˜å‚¨å™¨æ¥ç®¡ç†åº”ç”¨ç¨‹åºä¸­çš„çŠ¶æ€ã€‚VueX å¯ä»¥é€šè¿‡ mutationsã€actions å’Œ getters ç­‰æ¦‚å¿µæ¥ä¿®æ”¹å’Œå¤„ç†çŠ¶æ€çš„å˜æ›´ï¼ŒåŒæ—¶å…·æœ‰å¼ºå¤§çš„å·¥å…·å’Œæ’ä»¶æ”¯æŒã€‚</p>\n</li>\n<li><p>Pinia æ˜¯ Vue çš„ä¸“å±çŠ¶æ€ç®¡ç†åº“ï¼Œå®ƒå…è®¸ä½ è·¨ç»„ä»¶æˆ–é¡µé¢å…±äº«çŠ¶æ€ã€‚å¦‚æœä½ ç†Ÿæ‚‰ç»„åˆå¼ API çš„è¯ï¼Œä½ å¯èƒ½ä¼šè®¤ä¸ºå¯ä»¥é€šè¿‡ä¸€è¡Œç®€å•çš„ <code>export const state = reactive(&#123;&#125;)</code> æ¥å…±äº«ä¸€ä¸ªå…¨å±€çŠ¶æ€ã€‚å¯¹äºå•é¡µåº”ç”¨æ¥è¯´ç¡®å®å¯ä»¥ï¼Œä½†å¦‚æœåº”ç”¨åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼Œè¿™å¯èƒ½ä¼šä½¿ä½ çš„åº”ç”¨æš´éœ²å‡ºä¸€äº›å®‰å…¨æ¼æ´ã€‚ è€Œå¦‚æœä½¿ç”¨ Piniaï¼Œå³ä½¿åœ¨å°å‹å•é¡µåº”ç”¨ä¸­ï¼Œä½ ä¹Ÿå¯ä»¥è·å¾—å¦‚ä¸‹åŠŸèƒ½ï¼š</p>\n<ul>\n<li>Devtools æ”¯æŒ<ul>\n<li>  è¿½è¸ª actionsã€mutations çš„æ—¶é—´çº¿</li>\n<li>  åœ¨ç»„ä»¶ä¸­å±•ç¤ºå®ƒä»¬æ‰€ç”¨åˆ°çš„ Store</li>\n<li>  è®©è°ƒè¯•æ›´å®¹æ˜“çš„ Time travel</li>\n</ul>\n</li>\n<li>çƒ­æ›´æ–°<ul>\n<li>  ä¸å¿…é‡è½½é¡µé¢å³å¯ä¿®æ”¹ Store</li>\n<li>  å¼€å‘æ—¶å¯ä¿æŒå½“å‰çš„ State</li>\n</ul>\n</li>\n<li>  æ’ä»¶ï¼šå¯é€šè¿‡æ’ä»¶æ‰©å±• Pinia åŠŸèƒ½</li>\n<li>  ä¸º JS å¼€å‘è€…æä¾›é€‚å½“çš„ TypeScript æ”¯æŒä»¥åŠ<strong>è‡ªåŠ¨è¡¥å…¨</strong>åŠŸèƒ½ã€‚</li>\n<li>  æ”¯æŒæœåŠ¡ç«¯æ¸²æŸ“</li>\n</ul>\n</li>\n</ol></blockquote>\n<p>æ— è®ºé€‰æ‹©å“ªç§çŠ¶æ€ç®¡ç†å™¨ï¼Œéƒ½åº”è¯¥æ ¹æ®é¡¹ç›®çš„éœ€æ±‚å’Œç‰¹ç‚¹è¿›è¡Œæƒè¡¡ã€‚å¯¹äºå°å‹åº”ç”¨æˆ–ç»„ä»¶çº§åˆ«çš„çŠ¶æ€ç®¡ç†ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€äº›è½»é‡çº§çš„çŠ¶æ€ç®¡ç†æ–¹æ¡ˆï¼Œå¦‚ React Hooks ä¸­çš„ useStateã€useReducer ç­‰ã€‚é‡è¦çš„æ˜¯è¦ä¿æŒçŠ¶æ€çš„ä¸€è‡´æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œä»¥ä¾¿åœ¨åº”ç”¨ç¨‹åºä¸æ–­å˜åŒ–å’Œæ‰©å±•æ—¶ä¿æŒä»£ç çš„æ¸…æ™°å’Œå¯è¯»æ€§ã€‚</p>\n<p>è€Œæˆ‘ä»¬ä»Šå¤©è¦ä»‹ç»çš„å°±æ˜¯vueç”Ÿæ€ç³»ç»Ÿä¸­çš„Vuexå’Œpiniaè¿™ä¸¤ä¸ªçŠ¶æ€ç®¡ç†å™¨çš„å¼‚åŒï¼Œä¼˜åŠ£å’Œåº”ç”¨åœºæ™¯</p>\n<h1 id=\"Vuex\"><a href=\"#Vuex\" class=\"headerlink\" title=\"Vuex\"></a>Vuex</h1><p>vuexè¿™ä¸ªæˆ‘ç›¸ä¿¡è¿™ä¸ªå°±ä¸ç”¨æˆ‘è¿‡å¤šä»‹ç»äº†ï¼Œå‡¡æ˜¯ç”¨è¿‡vueçš„å¼€å‘è€…åº”è¯¥æ²¡æœ‰ä¸çŸ¥é“è¿™ä¸ªçš„ï¼Œvue3ä¹‹å‰ä¸€èˆ¬éƒ½æ˜¯ç”¨çš„vuexè¿™ä¸ªåº“ä½œä¸ºvueé¡¹ç›®çš„çŠ¶æ€ç®¡ç†ã€‚</p>\n<p>Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„<strong>çŠ¶æ€ç®¡ç†æ¨¡å¼ + åº“</strong>ã€‚å®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥ä¸€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–ã€‚</p>\n<p>ç›®å‰vuexçš„æœ€æ–°ç‰ˆæœ¬æ˜¯4.1.0,å¯ä»¥ç”¨äºvue3çš„é¡¹ç›®ï¼Œvue2çš„é¡¹ç›®æ˜¯ç”¨vuex 3.x.xçš„ç‰ˆæœ¬ã€‚</p>\n<p>è¦æƒ³æŒæ¡vuexå°±å¿…é¡»è¦äº†è§£vuexçš„5ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼š<strong>State,Getter,Mutation,Action,Module</strong></p>\n<p>vueçš„å•å‘æ•°æ®æµçŠ¶æ€ç®¡ç†åŒ…å«ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p>\n<ul>\n<li>  <strong>çŠ¶æ€</strong>ï¼Œé©±åŠ¨åº”ç”¨çš„æ•°æ®æºï¼›</li>\n<li>  <strong>è§†å›¾</strong>ï¼Œä»¥å£°æ˜æ–¹å¼å°†<strong>çŠ¶æ€</strong>æ˜ å°„åˆ°è§†å›¾ï¼›</li>\n<li>  <strong>æ“ä½œ</strong>ï¼Œå“åº”åœ¨<strong>è§†å›¾</strong>ä¸Šçš„ç”¨æˆ·è¾“å…¥å¯¼è‡´çš„çŠ¶æ€å˜åŒ–ã€‚</li>\n</ul>\n<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªè¡¨ç¤ºâ€œå•å‘æ•°æ®æµâ€ç†å¿µçš„ç®€å•ç¤ºæ„ï¼š<br>ç®€å•æ¥è¯´å°±æ˜¯æ•°æ®é©±åŠ¨è§†å›¾æ›´æ–°ï¼Œè¿™åœ¨å•æ–‡ä»¶ç»„ä»¶é‡Œé¢æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯ï¼Œå½“æˆ‘ä»¬çš„åº”ç”¨é‡åˆ°<strong>å¤šä¸ªç»„ä»¶å…±äº«çŠ¶æ€</strong>æ—¶ï¼Œå•å‘æ•°æ®æµçš„ç®€æ´æ€§å¾ˆå®¹æ˜“è¢«ç ´å</p>\n<p><img src=\"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e0c86965f8864d7eb92c5a148b3aa657~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1280&h=866&s=56870&e=png&b=ffffff\" alt=\"image.png\"></p>\n<p>å› æ­¤ï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆä¸æŠŠç»„ä»¶çš„å…±äº«çŠ¶æ€æŠ½å–å‡ºæ¥ï¼Œä»¥ä¸€ä¸ªå…¨å±€å•ä¾‹æ¨¡å¼ç®¡ç†å‘¢ï¼Ÿåœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œæˆ‘ä»¬çš„ç»„ä»¶æ ‘æ„æˆäº†ä¸€ä¸ªå·¨å¤§çš„â€œè§†å›¾â€ï¼Œä¸ç®¡åœ¨æ ‘çš„å“ªä¸ªä½ç½®ï¼Œä»»ä½•ç»„ä»¶éƒ½èƒ½è·å–çŠ¶æ€æˆ–è€…è§¦å‘è¡Œä¸ºï¼</p>\n<p>é€šè¿‡å®šä¹‰å’Œéš”ç¦»çŠ¶æ€ç®¡ç†ä¸­çš„å„ç§æ¦‚å¿µå¹¶é€šè¿‡å¼ºåˆ¶è§„åˆ™ç»´æŒè§†å›¾å’ŒçŠ¶æ€é—´çš„ç‹¬ç«‹æ€§ï¼Œæˆ‘ä»¬çš„ä»£ç å°†ä¼šå˜å¾—æ›´ç»“æ„åŒ–ä¸”æ˜“ç»´æŠ¤ã€‚</p>\n<p><img src=\"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/53f2fed95cc043c6af5dbc6a0078dde8~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=701&h=551&s=33966&e=png&b=ffffff\" alt=\"image.png\"></p>\n<p>å¦‚ä½•ä¸‹è½½å®‰è£…vuexæˆ‘å°±ä¸è®¨è®ºäº†ï¼Œç›´æ¥å»çœ‹vuexçš„å®˜æ–¹æ–‡æ¡£å³å¯ã€‚</p>\n<p>ä¸»è¦æ˜¯çœ‹vuexçš„çš„ç”¨æ³•å’ŒåŠŸèƒ½</p>\n<p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ Vuex ç¤ºä¾‹ä»£ç ï¼ŒåŒ…æ‹¬äº† Stateã€Getterã€Mutation å’Œ Action çš„ä½¿ç”¨ï¼š</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">&#x2F;&#x2F; store.js\nimport Vue from &#39;vue&#39;\nimport Vuex from &#39;vuex&#39;\n\nVue.use(Vuex)\n\nconst store &#x3D; new Vuex.Store(&#123;\n  state: &#123;\n    count: 0\n  &#125;,\n  getters: &#123;\n    doubleCount: state &#x3D;&gt; state.count * 2\n  &#125;,\n  mutations: &#123;\n    increment: state &#x3D;&gt; state.count++,\n    decrement: state &#x3D;&gt; state.count--\n  &#125;,\n  actions: &#123;\n    asyncIncrement: (&#123; commit &#125;) &#x3D;&gt; &#123;\n      setTimeout(() &#x3D;&gt; &#123;\n        commit(&#39;increment&#39;)\n      &#125;, 1000)\n    &#125;\n  &#125;\n&#125;)\n\nexport default store</code></pre>\n\n<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆå¼•å…¥äº† Vue å’Œ Vuexã€‚ç„¶ååˆ›å»ºäº†ä¸€ä¸ª Store å®ä¾‹ï¼Œå…¶ä¸­å®šä¹‰äº† Stateã€Getterã€Mutation å’Œ Actionã€‚</p>\n<p>State ä¸­åŒ…å«äº†ä¸€ä¸ªåä¸º count çš„æ•°æ®ï¼Œç”¨äºç»Ÿè®¡ç‚¹å‡»æ¬¡æ•°ã€‚</p>\n<p>Getter å®šä¹‰äº†ä¸€ä¸ªåä¸º doubleCount çš„ Getterï¼Œç”¨äºè·å– count çš„ä¸¤å€ã€‚</p>\n<p>Mutation å®šä¹‰äº†ä¸¤ä¸ª Mutationï¼Œåˆ†åˆ«ç”¨äºå¢åŠ å’Œå‡å°‘ countã€‚</p>\n<p>Action å®šä¹‰äº†ä¸€ä¸ªåä¸º asyncIncrement çš„ Actionï¼Œç”¨äºå¼‚æ­¥å¢åŠ  countã€‚åœ¨è¿™ä¸ª Action ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ setTimeout æ¥æ¨¡æ‹Ÿå¼‚æ­¥æ“ä½œï¼Œå¹¶åœ¨ 1 ç§’åè§¦å‘ Increment Mutationã€‚</p>\n<p>æœ€åï¼Œæˆ‘ä»¬å°† Store å¯¼å‡ºï¼Œå¯ä»¥åœ¨ Vue ç»„ä»¶ä¸­é€šè¿‡ this.$store è®¿é—®åˆ°è¿™ä¸ª Storeã€‚</p>\n<p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç»„ä»¶ç¤ºä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ Vuex çŠ¶æ€ç®¡ç†ï¼š</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">&lt;template&gt;\n  &lt;div&gt;\n    &lt;h2&gt;Count: &#123;&#123; count &#125;&#125;&lt;&#x2F;h2&gt;\n    &lt;h2&gt;Double Count: &#123;&#123; doubleCount &#125;&#125;&lt;&#x2F;h2&gt;\n    &lt;button @click&#x3D;&quot;increment&quot;&gt;Increment&lt;&#x2F;button&gt;\n    &lt;button @click&#x3D;&quot;decrement&quot;&gt;Decrement&lt;&#x2F;button&gt;\n    &lt;button @click&#x3D;&quot;asyncIncrement&quot;&gt;Async Increment&lt;&#x2F;button&gt;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script&gt;\nexport default &#123;\n  computed: &#123;\n    count() &#123;\n      return this.$store.state.count\n    &#125;,\n    doubleCount() &#123;\n      return this.$store.getters.doubleCount\n    &#125;\n  &#125;,\n  methods: &#123;\n    increment() &#123;\n      this.$store.commit(&#39;increment&#39;)\n    &#125;,\n    decrement() &#123;\n      this.$store.commit(&#39;decrement&#39;)\n    &#125;,\n    asyncIncrement() &#123;\n      this.$store.dispatch(&#39;asyncIncrement&#39;)\n    &#125;\n  &#125;\n&#125;\n&lt;&#x2F;script&gt;</code></pre>\n\n<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ computed å±æ€§æ¥è·å– State å’Œ Getterï¼Œå¹¶é€šè¿‡ methods å±æ€§æ¥è§¦å‘ Mutation å’Œ Actionã€‚æ³¨æ„ï¼Œåœ¨è§¦å‘ Mutation æ—¶ä½¿ç”¨ $store.commitï¼Œè€Œåœ¨è§¦å‘ Action æ—¶ä½¿ç”¨ $store.dispatchã€‚</p>\n<p>ä½¿ç”¨<code>this.$store.state.count</code>è·å–vuexä¸­çš„çŠ¶æ€ã€‚<br>å½“ä¸€ä¸ªç»„ä»¶éœ€è¦è·å–å¤šä¸ªçŠ¶æ€çš„æ—¶å€™ï¼Œå°†è¿™äº›çŠ¶æ€éƒ½å£°æ˜ä¸ºè®¡ç®—å±æ€§ä¼šæœ‰äº›é‡å¤å’Œå†—ä½™ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>mapState</code> è¾…åŠ©å‡½æ•°å¸®åŠ©æˆ‘ä»¬ç”Ÿæˆè®¡ç®—å±æ€§ï¼Œ</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">\n&#x2F;&#x2F; åœ¨å•ç‹¬æ„å»ºçš„ç‰ˆæœ¬ä¸­è¾…åŠ©å‡½æ•°ä¸º Vuex.mapState\nimport &#123; mapState &#125; from &#39;vuex&#39;\n\nexport default &#123;\n  &#x2F;&#x2F; ...\n  computed: mapState(&#123;\n    &#x2F;&#x2F; ç®­å¤´å‡½æ•°å¯ä½¿ä»£ç æ›´ç®€ç»ƒ\n    count: state &#x3D;&gt; state.count,\n\n    &#x2F;&#x2F; ä¼ å­—ç¬¦ä¸²å‚æ•° &#39;count&#39; ç­‰åŒäº &#96;state &#x3D;&gt; state.count&#96;\n    countAlias: &#39;count&#39;,\n\n    &#x2F;&#x2F; ä¸ºäº†èƒ½å¤Ÿä½¿ç”¨ &#96;this&#96; è·å–å±€éƒ¨çŠ¶æ€ï¼Œå¿…é¡»ä½¿ç”¨å¸¸è§„å‡½æ•°\n    countPlusLocalState (state) &#123;\n      return state.count + this.localCount\n    &#125;\n  &#125;)\n&#125;\n</code></pre>\n<h1 id=\"Getter\"><a href=\"#Getter\" class=\"headerlink\" title=\"Getter\"></a>Getter</h1><p>Vuex å…è®¸æˆ‘ä»¬åœ¨ store ä¸­å®šä¹‰â€œgetterâ€ï¼ˆå¯ä»¥è®¤ä¸ºæ˜¯ store çš„è®¡ç®—å±æ€§ï¼‰ã€‚å°±åƒè®¡ç®—å±æ€§ä¸€æ ·ï¼Œgetter çš„è¿”å›å€¼ä¼šæ ¹æ®å®ƒçš„ä¾èµ–è¢«ç¼“å­˜èµ·æ¥ï¼Œä¸”åªæœ‰å½“å®ƒçš„ä¾èµ–å€¼å‘ç”Ÿäº†æ”¹å˜æ‰ä¼šè¢«é‡æ–°è®¡ç®—ã€‚</p>\n<p><code>mapGetters</code> è¾…åŠ©å‡½æ•°ä»…ä»…æ˜¯å°† store ä¸­çš„ getter æ˜ å°„åˆ°å±€éƒ¨è®¡ç®—å±æ€§</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">import &#123; mapGetters &#125; from &#39;vuex&#39;\n\nexport default &#123;\n  &#x2F;&#x2F; ...\n  computed: &#123;\n  &#x2F;&#x2F; ä½¿ç”¨å¯¹è±¡å±•å¼€è¿ç®—ç¬¦å°† getter æ··å…¥ computed å¯¹è±¡ä¸­\n    ...mapGetters([\n      &#39;doneTodosCount&#39;,\n      &#39;anotherGetter&#39;,\n      &#x2F;&#x2F; ...\n    ])\n  &#125;\n&#125;</code></pre>\n\n<h1 id=\"Mutation\"><a href=\"#Mutation\" class=\"headerlink\" title=\"Mutation\"></a>Mutation</h1><p>æ›´æ”¹ Vuex çš„ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€æ–¹æ³•æ˜¯æäº¤ mutationã€‚Vuex ä¸­çš„ mutation éå¸¸ç±»ä¼¼äºäº‹ä»¶ï¼šæ¯ä¸ª mutation éƒ½æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²çš„<strong>äº‹ä»¶ç±»å‹ (type)<strong>å’Œä¸€ä¸ª</strong>å›è°ƒå‡½æ•° (handler)</strong> ã€‚è¿™ä¸ªå›è°ƒå‡½æ•°å°±æ˜¯æˆ‘ä»¬å®é™…è¿›è¡ŒçŠ¶æ€æ›´æ”¹çš„åœ°æ–¹ï¼Œå¹¶ä¸”å®ƒä¼šæ¥å— state ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°<br>ä½¿ç”¨mutationä¿®æ”¹vuexä¸­çš„æ•°æ®æœ‰å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š</p>\n<ul>\n<li>ä½¿ç”¨this.$store.commit</li>\n<li><strong>mutation å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°</strong></li>\n</ul>\n<p>æˆ–è€…ä½¿ç”¨ <strong>mapMutations</strong>è¾…åŠ©å‡½æ•°ä»£æ›¿this.$store.commit</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">import &#123; mapMutations &#125; from &#39;vuex&#39;\n\nexport default &#123;\n  &#x2F;&#x2F; ...\n  methods: &#123;\n    ...mapMutations([\n      &#39;increment&#39;, &#x2F;&#x2F; å°† &#96;this.increment()&#96; æ˜ å°„ä¸º &#96;this.$store.commit(&#39;increment&#39;)&#96;\n\n      &#x2F;&#x2F; &#96;mapMutations&#96; ä¹Ÿæ”¯æŒè½½è·ï¼š\n      &#39;incrementBy&#39; &#x2F;&#x2F; å°† &#96;this.incrementBy(amount)&#96; æ˜ å°„ä¸º &#96;this.$store.commit(&#39;incrementBy&#39;, amount)&#96;\n    ]),\n    ...mapMutations(&#123;\n      add: &#39;increment&#39; &#x2F;&#x2F; å°† &#96;this.add()&#96; æ˜ å°„ä¸º &#96;this.$store.commit(&#39;increment&#39;)&#96;\n    &#125;)\n  &#125;\n&#125;</code></pre>\n\n\n<h1 id=\"Action\"><a href=\"#Action\" class=\"headerlink\" title=\"Action\"></a>Action</h1><p>Action ç±»ä¼¼äº mutationï¼Œä¸åŒåœ¨äºï¼š</p>\n<ul>\n<li>  Action æäº¤çš„æ˜¯ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ã€‚</li>\n<li>  Action å¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥æ“ä½œã€‚</li>\n</ul>\n<p>Action é€šè¿‡ <code>store.dispatch</code> æ–¹æ³•è§¦å‘:</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">store.dispatch(&#39;increment&#39;)</code></pre>\n<h1 id=\"Modules\"><a href=\"#Modules\" class=\"headerlink\" title=\"Modules\"></a>Modules</h1><p>vuexè¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒå¥½ç”¨çš„åœ°æ–¹å°±æ˜¯å½“storeé‡Œé¢çš„çŠ¶æ€å¤šäº†ï¼Œå°±ä¼šå˜å¾—è‡ƒè‚¿ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ç”¨moduleså¯ä»¥åˆ†æ¨¡å—è¿›è¡Œç®¡ç†<br>Vuex å…è®¸æˆ‘ä»¬å°† store åˆ†å‰²æˆ<strong>æ¨¡å—ï¼ˆmoduleï¼‰</strong> ã€‚æ¯ä¸ªæ¨¡å—æ‹¥æœ‰è‡ªå·±çš„ stateã€mutationã€actionã€getterã€ç”šè‡³æ˜¯åµŒå¥—å­æ¨¡å—â€”â€”ä»ä¸Šè‡³ä¸‹è¿›è¡ŒåŒæ ·æ–¹å¼çš„åˆ†å‰²</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">const moduleA &#x3D; &#123;\n  state: () &#x3D;&gt; (&#123; ... &#125;),\n  mutations: &#123; ... &#125;,\n  actions: &#123; ... &#125;,\n  getters: &#123; ... &#125;\n&#125;\n\nconst moduleB &#x3D; &#123;\n  state: () &#x3D;&gt; (&#123; ... &#125;),\n  mutations: &#123; ... &#125;,\n  actions: &#123; ... &#125;\n&#125;\n\nconst store &#x3D; new Vuex.Store(&#123;\n  modules: &#123;\n    a: moduleA,\n    b: moduleB\n  &#125;\n&#125;)\n\nstore.state.a &#x2F;&#x2F; -&gt; moduleA çš„çŠ¶æ€\nstore.state.b &#x2F;&#x2F; -&gt; moduleB çš„çŠ¶æ€</code></pre>\n\n\n<p>å°±æ˜¯ç±»ä¼¼è¿™ç§ï¼Œæ¨¡å—é‡Œé¢è¿˜å¯ä»¥åµŒå¥—å­æ¨¡å—ã€‚å¦‚æœå¸Œæœ›ä½ çš„æ¨¡å—å…·æœ‰æ›´é«˜çš„å°è£…åº¦å’Œå¤ç”¨æ€§ï¼Œä½ å¯ä»¥é€šè¿‡æ·»åŠ  <code>namespaced: true</code> çš„æ–¹å¼ä½¿å…¶æˆä¸ºå¸¦å‘½åç©ºé—´çš„æ¨¡å—ã€‚å½“æ¨¡å—è¢«æ³¨å†Œåï¼Œå®ƒçš„æ‰€æœ‰ getterã€action åŠ mutation éƒ½ä¼šè‡ªåŠ¨æ ¹æ®æ¨¡å—æ³¨å†Œçš„è·¯å¾„è°ƒæ•´å‘½åã€‚å…·ä½“çš„å¯ä»¥å»æŸ¥çœ‹vuexçš„æ–‡æ¡£</p>\n<p>åœ¨ store åˆ›å»º<strong>ä¹‹å</strong>ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>store.registerModule</code> æ–¹æ³•æ³¨å†Œæ¨¡å—ï¼š</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">import Vuex from &#39;vuex&#39;\n\nconst store &#x3D; new Vuex.Store(&#123; &#x2F;* é€‰é¡¹ *&#x2F; &#125;)\n\n&#x2F;&#x2F; æ³¨å†Œæ¨¡å— &#96;myModule&#96;\nstore.registerModule(&#39;myModule&#39;, &#123;\n  &#x2F;&#x2F; ...\n&#125;)\n&#x2F;&#x2F; æ³¨å†ŒåµŒå¥—æ¨¡å— &#96;nested&#x2F;myModule&#96;\nstore.registerModule([&#39;nested&#39;, &#39;myModule&#39;], &#123;\n  &#x2F;&#x2F; ...\n&#125;)</code></pre>\n<p>ä¹‹åå°±å¯ä»¥é€šè¿‡ <code>store.state.myModule</code> å’Œ <code>store.state.nested.myModule</code> è®¿é—®æ¨¡å—çš„çŠ¶æ€ã€‚</p>\n<p>ä»¥ä¸Šå°±vuexçš„å¤§æ¦‚å†…å®¹ã€‚æ˜¯ä¸æ˜¯æ¯”è¾ƒç®€å•ï¼Ÿæ¥ä¸‹æ¥è¿˜æœ‰æ›´ç®€å•çš„ï¼Œé‚£å°±æ˜¯Pinia   </p>\n<p>Pinia <a href=\"https://github.com/vuejs/pinia/commit/06aeef54e2cad66696063c62829dac74e15fd19e\">èµ·å§‹</a>äº 2019 å¹´ 11 æœˆå·¦å³çš„ä¸€æ¬¡å®éªŒï¼Œå…¶ç›®çš„æ˜¯è®¾è®¡ä¸€ä¸ªæ‹¥æœ‰<a href=\"https://github.com/vuejs/composition-api\">ç»„åˆå¼ API</a> çš„ Vue çŠ¶æ€ç®¡ç†åº“ã€‚</p>\n<p align=center><img src=\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fee643838ca949a58dc524fe43a5ac91~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=319&h=477&s=81617&e=png&a=1&b=ffe062\" alt=\"image.png\"  /></p>\npiniaçš„logoæ˜¯ä¸€ä¸ªè èï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“åˆ°åº•æ˜¯è èè¿˜æ˜¯å‡¤æ¢¨ã€‚æˆ‘å°±å«å®ƒè èå§ã€‚\n\n\n<h1 id=\"store\"><a href=\"#store\" class=\"headerlink\" title=\"store\"></a>store</h1><p>Store (å¦‚ Pinia) æ˜¯ä¸€ä¸ªä¿å­˜çŠ¶æ€å’Œä¸šåŠ¡é€»è¾‘çš„å®ä½“ï¼Œå®ƒå¹¶ä¸ä¸ä½ çš„ç»„ä»¶æ ‘ç»‘å®šã€‚æ¢å¥è¯è¯´ï¼Œ<strong>å®ƒæ‰¿è½½ç€å…¨å±€çŠ¶æ€</strong>ã€‚å®ƒæœ‰ç‚¹åƒä¸€ä¸ªæ°¸è¿œå­˜åœ¨çš„ç»„ä»¶ï¼Œæ¯ä¸ªç»„ä»¶éƒ½å¯ä»¥è¯»å–å’Œå†™å…¥å®ƒã€‚å®ƒæœ‰<strong>ä¸‰ä¸ªæ¦‚å¿µ</strong>ï¼Œ<a href=\"https://pinia.vuejs.org/zh/core-concepts/state.html\">state</a>ã€<a href=\"https://pinia.vuejs.org/zh/core-concepts/getters.html\">getter</a> å’Œ <a href=\"https://pinia.vuejs.org/zh/core-concepts/actions.html\">action</a>ï¼Œæˆ‘ä»¬å¯ä»¥å‡è®¾è¿™äº›æ¦‚å¿µç›¸å½“äºç»„ä»¶ä¸­çš„ <code>data</code>ã€ <code>computed</code> å’Œ <code>methods</code>ã€‚</p>\n<p>å¯¹æ¯”vuexï¼Œpiniaåªæœ‰3ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼šstate,getter,action.æ˜¯ä¸æ˜¯è¦æ›´ç®€å•ä¸€ç‚¹äº†å‘¢ã€‚</p>\n<p>é‚£å°±çœ‹çœ‹Piniaæ˜¯æ€ä¹ˆæ¥ç®¡ç†å…¨å±€çŠ¶æ€çš„å§ã€‚</p>\n<h1 id=\"Store\"><a href=\"#Store\" class=\"headerlink\" title=\"Store\"></a>Store</h1><p>Store æ˜¯ç”¨ <code>defineStore()</code> å®šä¹‰çš„ï¼Œå®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°è¦æ±‚æ˜¯ä¸€ä¸ª<strong>ç‹¬ä¸€æ— äºŒçš„</strong>åå­—</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">import &#123; defineStore &#125; from &#39;pinia&#39;\n\n&#x2F;&#x2F; ä½ å¯ä»¥å¯¹ &#96;defineStore()&#96; çš„è¿”å›å€¼è¿›è¡Œä»»æ„å‘½åï¼Œä½†æœ€å¥½ä½¿ç”¨ store çš„åå­—ï¼ŒåŒæ—¶ä»¥ &#96;use&#96; å¼€å¤´ä¸”ä»¥ &#96;Store&#96; ç»“å°¾ã€‚(æ¯”å¦‚ &#96;useUserStore&#96;ï¼Œ&#96;useCartStore&#96;ï¼Œ&#96;useProductStore&#96;)\n&#x2F;&#x2F; ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä½ çš„åº”ç”¨ä¸­ Store çš„å”¯ä¸€ IDã€‚\nexport const useAlertsStore &#x3D; defineStore(&#39;alerts&#39;, &#123;\n  &#x2F;&#x2F; å…¶ä»–é…ç½®...\n&#125;)\n</code></pre>\n<p>è¿™ä¸ª<strong>åå­—</strong> ï¼Œä¹Ÿè¢«ç”¨ä½œ <em>id</em> ï¼Œæ˜¯å¿…é¡»ä¼ å…¥çš„ï¼Œ Pinia å°†ç”¨å®ƒæ¥è¿æ¥ store å’Œ devtoolsã€‚ä¸ºäº†å…»æˆä¹ æƒ¯æ€§çš„ç”¨æ³•ï¼Œå°†è¿”å›çš„å‡½æ•°å‘½åä¸º <em>useâ€¦</em>  æ˜¯ä¸€ä¸ªç¬¦åˆç»„åˆå¼å‡½æ•°é£æ ¼çš„çº¦å®šã€‚</p>\n<p><code>defineStore()</code> çš„ç¬¬äºŒä¸ªå‚æ•°å¯æ¥å—ä¸¤ç±»å€¼ï¼šSetup å‡½æ•°æˆ– Option å¯¹è±¡ã€‚<br>setupå°±æ˜¯ç»„åˆå¼APIçš„å†™æ³•ï¼ŒOptionå°±æ˜¯é€‰é¡¹å¼APIçš„å†™æ³•ï¼Œå’Œvuexçš„å†™æ³•å·®ä¸å¤š</p>\n<h3 id=\"Option-å¯¹è±¡å†™æ³•\"><a href=\"#Option-å¯¹è±¡å†™æ³•\" class=\"headerlink\" title=\"Option å¯¹è±¡å†™æ³•\"></a>Option å¯¹è±¡å†™æ³•</h3><pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">export const useCounterStore &#x3D; defineStore(&#39;counter&#39;, &#123;\n  state: () &#x3D;&gt; (&#123; count: 0 &#125;),\n  getters: &#123;\n    double: (state) &#x3D;&gt; state.count * 2,\n  &#125;,\n  actions: &#123;\n    increment() &#123;\n      this.count++\n    &#125;,\n  &#125;,\n&#125;)</code></pre>\n<h3 id=\"setup-å†™æ³•\"><a href=\"#setup-å†™æ³•\" class=\"headerlink\" title=\"setup å†™æ³•\"></a>setup å†™æ³•</h3><pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">\nexport const useCounterStore &#x3D; defineStore(&#39;counter&#39;, () &#x3D;&gt; &#123;\n  const count &#x3D; ref(0)\n  function increment() &#123;\n    count.value++\n  &#125;\n\n  return &#123; count, increment &#125;\n&#125;)</code></pre>\n\n<p>ä¸¤ç§å†™æ³•éƒ½å·®ä¸å¤šï¼Œå°±çœ‹è‡ªå·±å–œæ¬¢å“ªä¸ªäº†ã€‚</p>\n<p>å¦‚ä½•ä½¿ç”¨storeï¼Ÿ<br>åœ¨ç»„ä»¶ä¸­ï¼Œç›´æ¥å¯¼å…¥ä½¿ç”¨å°±è¡Œ</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">\n&lt;script setup&gt;\nimport &#123; useCounterStore &#125; from &#39;@&#x2F;stores&#x2F;counter&#39;\n&#x2F;&#x2F; å¯ä»¥åœ¨ç»„ä»¶ä¸­çš„ä»»æ„ä½ç½®è®¿é—® &#96;store&#96; å˜é‡ âœ¨\nconst store &#x3D; useCounterStore()\n&lt;&#x2F;script&gt;</code></pre>\n<p>ä¸ºäº†ä» store ä¸­æå–å±æ€§æ—¶ä¿æŒå…¶å“åº”æ€§ï¼Œä½ éœ€è¦ä½¿ç”¨ <code>storeToRefs()</code></p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">&lt;script setup&gt;\nimport &#123; storeToRefs &#125; from &#39;pinia&#39;\nconst store &#x3D; useCounterStore()\n&#x2F;&#x2F; &#96;name&#96; å’Œ &#96;doubleCount&#96; æ˜¯å“åº”å¼çš„ ref\n&#x2F;&#x2F; åŒæ—¶é€šè¿‡æ’ä»¶æ·»åŠ çš„å±æ€§ä¹Ÿä¼šè¢«æå–ä¸º ref\n&#x2F;&#x2F; å¹¶ä¸”ä¼šè·³è¿‡æ‰€æœ‰çš„ action æˆ–éå“åº”å¼ (ä¸æ˜¯ ref æˆ– reactive) çš„å±æ€§\nconst &#123; name, doubleCount &#125; &#x3D; storeToRefs(store)\n&#x2F;&#x2F; ä½œä¸º action çš„ increment å¯ä»¥ç›´æ¥è§£æ„\nconst &#123; increment &#125; &#x3D; store\n&lt;&#x2F;script&gt;</code></pre>\n\n\n<h1 id=\"State\"><a href=\"#State\" class=\"headerlink\" title=\"State\"></a>State</h1><p>å¯¹stateçš„æ“ä½œæ— éå°±æ˜¯è®¿é—®ï¼Œé‡ç½®ï¼Œå˜æ›´ï¼Œæ›¿æ¢ï¼Œè®¢é˜…</p>\n<h4 id=\"è®¿é—®\"><a href=\"#è®¿é—®\" class=\"headerlink\" title=\"è®¿é—®\"></a>è®¿é—®</h4><pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">const store &#x3D; useStore(); \nstore.count++;</code></pre>\n<h4 id=\"é‡ç½®\"><a href=\"#é‡ç½®\" class=\"headerlink\" title=\"é‡ç½®\"></a>é‡ç½®</h4><p>ç›´æ¥è°ƒç”¨reset()æ–¹æ³•</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">const store &#x3D; useStore()\n\nstore.$reset()</code></pre>\n\n<h4 id=\"ä¿®æ”¹stateçš„å€¼\"><a href=\"#ä¿®æ”¹stateçš„å€¼\" class=\"headerlink\" title=\"ä¿®æ”¹stateçš„å€¼\"></a>ä¿®æ”¹stateçš„å€¼</h4><p>å¦‚æœåªæ”¹å˜ä¸€ä¸ªå±æ€§çš„å€¼ï¼Œå¯ä»¥ç›´æ¥å˜æ›´<code>store.count=111</code></p>\n<p>å¦‚æœæ˜¯è¦åŒäº‹å˜æ›´å¤šä¸ªå€¼ï¼Œå¯ä»¥ä½¿ç”¨<code>store.$patch()</code>æ–¹æ³•</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">store.$patch(&#123;\n  count: store.count + 1,\n  age: 120,\n  name: &#39;DIO&#39;,\n&#125;)\n&#x2F;&#x2F;æˆ–è€…\nstore.$patch((state) &#x3D;&gt; &#123; state.items.push(&#123; name: &#39;shoes&#39;, quantity: 1 &#125;) state.hasChanged &#x3D; true &#125;)</code></pre>\n\n<h4 id=\"æ›¿æ¢state\"><a href=\"#æ›¿æ¢state\" class=\"headerlink\" title=\"æ›¿æ¢state\"></a>æ›¿æ¢state</h4><p>ä½ <strong>ä¸èƒ½å®Œå…¨æ›¿æ¢æ‰</strong> store çš„ stateï¼Œå› ä¸ºé‚£æ ·ä¼šç ´åå…¶å“åº”æ€§ã€‚ä½†æ˜¯ï¼Œä½ å¯ä»¥ <em>patch</em> å®ƒã€‚</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">&#x2F;&#x2F; è¿™å®é™…ä¸Šå¹¶æ²¡æœ‰æ›¿æ¢&#96;$state&#96;\nstore.$state &#x3D; &#123; count: 24 &#125;\n&#x2F;&#x2F; åœ¨å®ƒå†…éƒ¨è°ƒç”¨ &#96;$patch()&#96;ï¼š\nstore.$patch(&#123; count: 24 &#125;)</code></pre>\n<p>ä½ ä¹Ÿå¯ä»¥é€šè¿‡å˜æ›´ <code>pinia</code> å®ä¾‹çš„ <code>state</code> æ¥è®¾ç½®æ•´ä¸ªåº”ç”¨çš„åˆå§‹ stateã€‚<br><code>pinia.state.value = &#123;&#125;</code></p>\n<h4 id=\"è®¢é˜…stateçš„å˜åŒ–\"><a href=\"#è®¢é˜…stateçš„å˜åŒ–\" class=\"headerlink\" title=\"è®¢é˜…stateçš„å˜åŒ–\"></a>è®¢é˜…stateçš„å˜åŒ–</h4><p>ç±»ä¼¼äº Vuex çš„ <a href=\"https://vuex.vuejs.org/zh/api/index.html#subscribe\">subscribe æ–¹æ³•</a>ï¼Œä½ å¯ä»¥é€šè¿‡ store çš„ <code>$subscribe()</code> æ–¹æ³•ä¾¦å¬ state åŠå…¶å˜åŒ–ã€‚æ¯”èµ·æ™®é€šçš„ <code>watch()</code>ï¼Œä½¿ç”¨ <code>$subscribe()</code> çš„å¥½å¤„æ˜¯ <em>subscriptions</em> åœ¨ <em>patch</em> ååªè§¦å‘ä¸€æ¬¡</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">cartStore.$subscribe((mutation, state) &#x3D;&gt; &#123;\n  &#x2F;&#x2F; import &#123; MutationType &#125; from &#39;pinia&#39;\n  mutation.type &#x2F;&#x2F; &#39;direct&#39; | &#39;patch object&#39; | &#39;patch function&#39;\n  &#x2F;&#x2F; å’Œ cartStore.$id ä¸€æ ·\n  mutation.storeId &#x2F;&#x2F; &#39;cart&#39;\n  &#x2F;&#x2F; åªæœ‰ mutation.type &#x3D;&#x3D;&#x3D; &#39;patch object&#39;çš„æƒ…å†µä¸‹æ‰å¯ç”¨\n  mutation.payload &#x2F;&#x2F; ä¼ é€’ç»™ cartStore.$patch() çš„è¡¥ä¸å¯¹è±¡ã€‚\n\n  &#x2F;&#x2F; æ¯å½“çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå°†æ•´ä¸ª state æŒä¹…åŒ–åˆ°æœ¬åœ°å­˜å‚¨ã€‚\n  localStorage.setItem(&#39;cart&#39;, JSON.stringify(state))\n&#125;)</code></pre>\n\n<h1 id=\"Getter-1\"><a href=\"#Getter-1\" class=\"headerlink\" title=\"Getter\"></a>Getter</h1><p>Getter å®Œå…¨ç­‰åŒäº store çš„ state çš„<a href=\"https://cn.vuejs.org/guide/essentials/computed.html\">è®¡ç®—å€¼</a>ã€‚å¯ä»¥é€šè¿‡ <code>defineStore()</code> ä¸­çš„ <code>getters</code> å±æ€§æ¥å®šä¹‰å®ƒä»¬ã€‚<strong>æ¨è</strong>ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œå¹¶ä¸”å®ƒå°†æ¥æ”¶ <code>state</code> ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">export const useStore &#x3D; defineStore(&#39;main&#39;, &#123;\n  state: () &#x3D;&gt; (&#123;\n    count: 0,\n  &#125;),\n  getters: &#123;\n    doubleCount: (state) &#x3D;&gt; state.count * 2,\n  &#125;,\n&#125;)</code></pre>\n<p>å¯ä»¥ä½¿ç”¨thisè®¿é—®æ•´ä¸ªstoreå®ä¾‹ã€‚<br>this.doubleCount+1è®¿é—®å…¶ä»–çš„getter</p>\n<h1 id=\"Action-1\"><a href=\"#Action-1\" class=\"headerlink\" title=\"Action\"></a>Action</h1><p>Action ç›¸å½“äºç»„ä»¶ä¸­çš„ <a href=\"https://v3.vuejs.org/guide/data-methods.html#methods\">method</a>ã€‚å®ƒä»¬å¯ä»¥é€šè¿‡ <code>defineStore()</code> ä¸­çš„ <code>actions</code> å±æ€§æ¥å®šä¹‰</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">export const useCounterStore &#x3D; defineStore(&#39;main&#39;, &#123;\n  state: () &#x3D;&gt; (&#123;\n    count: 0,\n  &#125;),\n  actions: &#123;\n    increment() &#123;\n      this.count++\n    &#125;,\n    randomizeCounter() &#123;\n      this.count &#x3D; Math.round(100 * Math.random())\n    &#125;,\n  &#125;,\n&#125;)</code></pre>\n<p>ç±»ä¼¼ <a href=\"https://pinia.vuejs.org/zh/core-concepts/getters.html\">getter</a>ï¼Œaction ä¹Ÿå¯é€šè¿‡ <code>this</code> è®¿é—®<strong>æ•´ä¸ª store å®ä¾‹</strong>ï¼Œå¹¶æ”¯æŒ<strong>å®Œæ•´çš„ç±»å‹æ ‡æ³¨(ä»¥åŠè‡ªåŠ¨è¡¥å…¨âœ¨)</strong> ã€‚<strong>ä¸åŒçš„æ˜¯ï¼Œ<code>action</code> å¯ä»¥æ˜¯å¼‚æ­¥çš„</strong>ï¼Œä½ å¯ä»¥åœ¨å®ƒä»¬é‡Œé¢ <code>await</code> è°ƒç”¨ä»»ä½• APIï¼Œä»¥åŠå…¶ä»– actionï¼ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨ <a href=\"https://github.com/posva/mande\">Mande</a> çš„ä¾‹å­ã€‚</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">import &#123; mande &#125; from &#39;mande&#39;\n\nconst api &#x3D; mande(&#39;&#x2F;api&#x2F;users&#39;)\n\nexport const useUsers &#x3D; defineStore(&#39;users&#39;, &#123;\n  state: () &#x3D;&gt; (&#123;\n    userData: null,\n    &#x2F;&#x2F; ...\n  &#125;),\n\n  actions: &#123;\n    async registerUser(login, password) &#123;\n      try &#123;\n        this.userData &#x3D; await api.post(&#123; login, password &#125;)\n        showTooltip(&#96;Welcome back $&#123;this.userData.name&#125;!&#96;)\n      &#125; catch (error) &#123;\n        showTooltip(error)\n        &#x2F;&#x2F; è®©è¡¨å•ç»„ä»¶æ˜¾ç¤ºé”™è¯¯\n        return error\n      &#125;\n    &#125;,\n  &#125;,\n&#125;)</code></pre>\n\n\n\n\n<h2 id=\"Piniaä¸-Vuex-çš„æ¯”è¾ƒ\"><a href=\"#Piniaä¸-Vuex-çš„æ¯”è¾ƒ\" class=\"headerlink\" title=\"Piniaä¸ Vuex çš„æ¯”è¾ƒ\"></a><a href=\"https://pinia.web3doc.top/introduction.html#%E4%B8%8E-vuex-%E7%9A%84%E6%AF%94%E8%BE%83\">Piniaä¸ Vuex çš„æ¯”è¾ƒ</a></h2><p>Pinia æœ€åˆæ˜¯ä¸ºäº†æ¢ç´¢ Vuex çš„ä¸‹ä¸€æ¬¡è¿­ä»£ä¼šæ˜¯ä»€ä¹ˆæ ·å­ï¼Œç»“åˆäº† Vuex 5 æ ¸å¿ƒå›¢é˜Ÿè®¨è®ºä¸­çš„è®¸å¤šæƒ³æ³•ã€‚æœ€ç»ˆï¼Œæˆ‘ä»¬æ„è¯†åˆ° Pinia å·²ç»å®ç°äº†æˆ‘ä»¬åœ¨ Vuex 5 ä¸­æƒ³è¦çš„å¤§éƒ¨åˆ†å†…å®¹ï¼Œå¹¶å†³å®šå®ç°å®ƒ å–è€Œä»£ä¹‹çš„æ˜¯æ–°çš„å»ºè®®ã€‚</p>\n<p>ä¸ Vuex ç›¸æ¯”ï¼ŒPinia æä¾›äº†ä¸€ä¸ªæ›´ç®€å•çš„ APIï¼Œå…·æœ‰æ›´å°‘çš„è§„èŒƒï¼Œæä¾›äº† Composition-API é£æ ¼çš„ APIï¼Œæœ€é‡è¦çš„æ˜¯ï¼Œåœ¨ä¸ TypeScript ä¸€èµ·ä½¿ç”¨æ—¶å…·æœ‰å¯é çš„ç±»å‹æ¨æ–­æ”¯æŒã€‚</p>\n<h3 id=\"RFC\"><a href=\"#RFC\" class=\"headerlink\" title=\"RFC\"></a><a href=\"https://pinia.web3doc.top/introduction.html#rfc\">RFC</a></h3><p>è™½ç„¶ Vuex é€šè¿‡ RFC ä»ç¤¾åŒºæ”¶é›†å°½å¯èƒ½å¤šçš„åé¦ˆï¼Œä½† Pinia æ²¡æœ‰ã€‚ æˆ‘æ ¹æ®æˆ‘å¼€å‘åº”ç”¨ç¨‹åºã€é˜…è¯»å…¶ä»–äººçš„ä»£ç ã€ä¸ºä½¿ç”¨ Pinia çš„å®¢æˆ·å·¥ä½œä»¥åŠåœ¨ Discord ä¸Šå›ç­”é—®é¢˜çš„ç»éªŒæ¥æµ‹è¯•æƒ³æ³•ã€‚ è¿™ä½¿æˆ‘èƒ½å¤Ÿæä¾›ä¸€ç§é€‚ç”¨äºå„ç§æƒ…å†µå’Œåº”ç”¨ç¨‹åºå¤§å°çš„æœ‰æ•ˆè§£å†³æ–¹æ¡ˆã€‚ æˆ‘ç»å¸¸å‘å¸ƒå¹¶åœ¨ä¿æŒå…¶æ ¸å¿ƒ API ä¸å˜çš„åŒæ—¶ä½¿åº“ä¸æ–­å‘å±•ã€‚</p>\n<h3 id=\"ä¸-Vuex-3-x-4-x-çš„æ¯”è¾ƒ\"><a href=\"#ä¸-Vuex-3-x-4-x-çš„æ¯”è¾ƒ\" class=\"headerlink\" title=\"ä¸ Vuex 3.x/4.x çš„æ¯”è¾ƒ\"></a><a href=\"https://pinia.web3doc.top/introduction.html#%E4%B8%8E-vuex-3-x-4-x-%E7%9A%84%E6%AF%94%E8%BE%83\">ä¸ Vuex 3.x/4.x çš„æ¯”è¾ƒ</a></h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>Vuex 3.x æ˜¯ Vuex çš„ Vue 2 è€Œ Vuex 4.x æ˜¯ Vue 3</p></blockquote>\n<p>Pinia API ä¸ Vuex â‰¤4 æœ‰å¾ˆå¤§ä¸åŒï¼Œå³ï¼š</p>\n<ul>\n<li>  <em>mutations</em> ä¸å†å­˜åœ¨ã€‚ä»–ä»¬ç»å¸¸è¢«è®¤ä¸ºæ˜¯ <strong><em>éå¸¸</em> å†—é•¿</strong>ã€‚ä»–ä»¬æœ€åˆå¸¦æ¥äº† devtools é›†æˆï¼Œä½†è¿™ä¸å†æ˜¯é—®é¢˜ã€‚</li>\n<li>  æ— éœ€åˆ›å»ºè‡ªå®šä¹‰å¤æ‚åŒ…è£…å™¨æ¥æ”¯æŒ TypeScriptï¼Œæ‰€æœ‰å†…å®¹éƒ½æ˜¯ç±»å‹åŒ–çš„ï¼Œå¹¶ä¸” API çš„è®¾è®¡æ–¹å¼å°½å¯èƒ½åˆ©ç”¨ TS ç±»å‹æ¨æ–­ã€‚</li>\n<li>  ä¸å†éœ€è¦æ³¨å…¥ã€å¯¼å…¥å‡½æ•°ã€è°ƒç”¨å‡½æ•°ã€äº«å—è‡ªåŠ¨å®ŒæˆåŠŸèƒ½ï¼</li>\n<li>  æ— éœ€åŠ¨æ€æ·»åŠ  Storeï¼Œé»˜è®¤æƒ…å†µä¸‹å®ƒä»¬éƒ½æ˜¯åŠ¨æ€çš„ï¼Œæ‚¨ç”šè‡³éƒ½ä¸ä¼šæ³¨æ„åˆ°ã€‚è¯·æ³¨æ„ï¼Œæ‚¨ä»ç„¶å¯ä»¥éšæ—¶æ‰‹åŠ¨ä½¿ç”¨ Store è¿›è¡Œæ³¨å†Œï¼Œä½†å› ä¸ºå®ƒæ˜¯è‡ªåŠ¨çš„ï¼Œæ‚¨æ— éœ€æ‹…å¿ƒã€‚</li>\n<li>  ä¸å†æœ‰ <em>modules</em> çš„åµŒå¥—ç»“æ„ã€‚æ‚¨ä»ç„¶å¯ä»¥é€šè¿‡åœ¨å¦ä¸€ä¸ª Store ä¸­å¯¼å…¥å’Œ <em>ä½¿ç”¨</em> æ¥éšå¼åµŒå¥— Storeï¼Œä½† Pinia é€šè¿‡è®¾è®¡æä¾›å¹³é¢ç»“æ„ï¼ŒåŒæ—¶ä»ç„¶æ”¯æŒ Store ä¹‹é—´çš„äº¤å‰ç»„åˆæ–¹å¼ã€‚ <strong>æ‚¨ç”šè‡³å¯ä»¥æ‹¥æœ‰ Store çš„å¾ªç¯ä¾èµ–å…³ç³»</strong>ã€‚</li>\n<li>  æ²¡æœ‰ <em>å‘½åç©ºé—´æ¨¡å—</em>ã€‚é‰´äº Store çš„æ‰å¹³æ¶æ„ï¼Œâ€œå‘½åç©ºé—´â€ Store æ˜¯å…¶å®šä¹‰æ–¹å¼æ‰€å›ºæœ‰çš„ï¼Œæ‚¨å¯ä»¥è¯´æ‰€æœ‰ Store éƒ½æ˜¯å‘½åç©ºé—´çš„ã€‚</li>\n</ul>\n<p>ä»¥ä¸Šå°±æ˜¯vuexå’Œpiniaçš„å…¨éƒ¨ä»‹ç»äº†ã€‚æˆ‘ä¸ªäººè§‰å¾—å¦‚æœæ˜¯vue2æˆ–è€…ä»¥å‰çš„è€é¡¹ç›®é‚£å°±ç”¨vuexï¼Œå¦‚æœæ˜¯vue3çš„æ–°é¡¹ç›®é‚£å°±ç”¨piniaï¼Œå½“ç„¶è¿™ä¹Ÿä¸æ˜¯ç»å¯¹çš„ï¼Œæ›´å¤šçš„è¿˜æ˜¯è¦å…·ä½“æƒ…å†µå…·ä½“åˆ†æçš„ã€‚<br>æˆ‘ä¸ªäººè§‰å¾—piniaç›¸æ¯”äºvuexåœ¨ä½¿ç”¨è§’åº¦æ¥è¯´ï¼Œæ˜¯è¦æ›´åŠ ç®€æ´æ–¹ä¾¿ä¸€ç‚¹çš„</p>\n<p><img src=\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5675671bec9644eeaa7928eedd9af765~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1920&h=1080&s=2699299&e=png&b=082832\" alt=\"1-wallhaven-p2zq23.png\"></p>\n","feature":true,"text":" ä»€ä¹ˆæ˜¯çŠ¶æ€ç®¡ç†åœ¨ä»‹ç»Vuexå’ŒPiniaä¹‹å‰ï¼Œæˆ‘ä»¬æœ‰å¿…è¦å…ˆäº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯çŠ¶æ€ç®¡ç†ã€‚ åœ¨å‰ç«¯å¼€å‘ä¸­ï¼ŒçŠ¶æ€ç®¡ç†å™¨æ˜¯ä¸€ç§ç”¨äºç®¡ç†åº”ç”¨ç¨‹åºå…¨å±€çŠ¶æ€çš„å·¥å…·ã€‚å®ƒé€šå¸¸ç”¨äºå¤§å‹åº”ç”¨ç¨‹åºï¼Œå¯ä»¥å¸®åŠ©å¼€å‘è€…æ›´å¥½åœ°ç»„ç»‡å’Œç®¡ç†çŠ¶æ€ï¼Œå¹¶æä¾›ä¸€äº›å¼ºå¤§çš„å·¥å…·æ¥ç®€åŒ–çŠ¶æ€çš„å˜æ›´å’Œä½¿ç”¨ã€‚ å‰ç«¯å¸¸ç”¨çš„çŠ¶æ€ç®¡ç†åº“ä»¥ä¸‹æ˜¯...","link":"","photos":[],"count_time":{"symbolsCount":"14k","symbolsTime":"13 mins."},"categories":[{"name":"pinia","slug":"pinia","count":1,"path":"api/categories/pinia.json"}],"tags":[{"name":"pinia vuex","slug":"pinia-vuex","count":1,"path":"api/tags/pinia-vuex.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%BB%80%E4%B9%88%E6%98%AF%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86\"><span class=\"toc-text\">ä»€ä¹ˆæ˜¯çŠ¶æ€ç®¡ç†</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%89%8D%E7%AB%AF%E5%B8%B8%E7%94%A8%E7%9A%84%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%E5%BA%93\"><span class=\"toc-text\">å‰ç«¯å¸¸ç”¨çš„çŠ¶æ€ç®¡ç†åº“</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Vuex\"><span class=\"toc-text\">Vuex</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Getter\"><span class=\"toc-text\">Getter</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Mutation\"><span class=\"toc-text\">Mutation</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Action\"><span class=\"toc-text\">Action</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Modules\"><span class=\"toc-text\">Modules</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#store\"><span class=\"toc-text\">store</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Store\"><span class=\"toc-text\">Store</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Option-%E5%AF%B9%E8%B1%A1%E5%86%99%E6%B3%95\"><span class=\"toc-text\">Option å¯¹è±¡å†™æ³•</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#setup-%E5%86%99%E6%B3%95\"><span class=\"toc-text\">setup å†™æ³•</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#State\"><span class=\"toc-text\">State</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%AE%BF%E9%97%AE\"><span class=\"toc-text\">è®¿é—®</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E9%87%8D%E7%BD%AE\"><span class=\"toc-text\">é‡ç½®</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9state%E7%9A%84%E5%80%BC\"><span class=\"toc-text\">ä¿®æ”¹stateçš„å€¼</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9B%BF%E6%8D%A2state\"><span class=\"toc-text\">æ›¿æ¢state</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%AE%A2%E9%98%85state%E7%9A%84%E5%8F%98%E5%8C%96\"><span class=\"toc-text\">è®¢é˜…stateçš„å˜åŒ–</span></a></li></ol></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Getter-1\"><span class=\"toc-text\">Getter</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Action-1\"><span class=\"toc-text\">Action</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Pinia%E4%B8%8E-Vuex-%E7%9A%84%E6%AF%94%E8%BE%83\"><span class=\"toc-text\">Piniaä¸ Vuex çš„æ¯”è¾ƒ</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#RFC\"><span class=\"toc-text\">RFC</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%B8%8E-Vuex-3-x-4-x-%E7%9A%84%E6%AF%94%E8%BE%83\"><span class=\"toc-text\">ä¸ Vuex 3.x&#x2F;4.x çš„æ¯”è¾ƒ</span></a></li></ol></li></ol></li></ol>","author":{"name":"å‰ç«¯å°‘å¹´æ±ª","slug":"blog-author","avatar":"https://p3-passport.byteimg.com/img/user-avatar/46cf67c329246db441271a06f6132633~100x100.awebp","link":"/","description":"ä¸€ä¸ªè¿½é€æŠ€æœ¯çš„å…¨æ ˆå·¥ç¨‹å¸ˆ <br /> @ <b>å…¬ä¼—å·ï¼šå‰ç«¯å°‘å¹´æ±ª</b>","socials":{"github":"https://github.com/frontendBoy-Wang","twitter":"","stackoverflow":"https://stackoverflow.com/users/16856904/frontendboy-wang","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/people/qian-ke-sao-ren-wmq","csdn":"https://blog.csdn.net/qq_44647871?spm=1010.2135.3001.5421","juejin":"https://juejin.cn/user/3570847174897447","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/392982262"}}}},"mapped":true,"prev_post":{"title":"åœ£è¯èŠ‚å¿«åˆ°äº†ï¼Œç”¨ThreeJSç»™å¥³æœ‹å‹å†™äº†ä¸€ä¸ªåœ£è¯æ ‘ğŸ„ï¼Œå¥¹å¾ˆå¼€å¿ƒ","uid":"529493b0860c50168557a46de0bc5502","slug":"threeJS/åœ£è¯èŠ‚å¿«åˆ°äº†ï¼Œç”¨ThreeJSç»™å¥³æœ‹å‹å†™äº†ä¸€ä¸ªåœ£è¯æ ‘ï¼Œå¥¹å¾ˆå¼€å¿ƒ","date":"2023-12-30T02:46:35.000Z","updated":"2024-12-25T06:40:06.000Z","comments":true,"path":"api/articles/threeJS/åœ£è¯èŠ‚å¿«åˆ°äº†ï¼Œç”¨ThreeJSç»™å¥³æœ‹å‹å†™äº†ä¸€ä¸ªåœ£è¯æ ‘ï¼Œå¥¹å¾ˆå¼€å¿ƒ.json","keywords":"å‰ç«¯å°‘å¹´æ±ª,å‰ç«¯,åç«¯,å…¨æ ˆå·¥ç¨‹å¸ˆ,ç¨‹åºå‘˜,vue,react,Golang,Java,JavaScript,Python,frontendBoy-Wang","cover":"../img/0.png","text":" è½¬çœ¼é—´åˆæ˜¯ä¸€å¹´å¿«è¦ç»“æŸäº†ï¼Œé©¬ä¸Šåœ£è¯èŠ‚ğŸ„å°±å¿«åˆ°äº†ã€‚ç»™å¥³æœ‹å‹(æ²¡æœ‰å¥³æœ‹å‹çš„å°±è‡ªå·±newä¸€ä¸ªå§ğŸ™ˆ)å†™ä¸€ä¸ªåœ£è¯æ ‘è®©å¥¹å¼€å¿ƒä¸€ä¸‹å§ ä½¿ç”¨ä»€ä¹ˆæŠ€æœ¯å†™ä¸€å¼€å§‹æˆ‘å‡†å¤‡ç”¨html+csså»å†™ï¼Œåæ¥æ„Ÿè§‰ä½¿ç”¨htmlå’Œcsså†™å°±å¤ªlowäº†ï¼Œæ²¡æœ‰ä¸€ç‚¹ç‚¹å¿ƒæ„ã€‚å°±æ‰“ç®—ç”¨three.jså†™ä¸€ä¸ª3dç‰ˆæœ¬çš„ã€‚ ç®€å•...","link":"","photos":[],"count_time":{"symbolsCount":"8.7k","symbolsTime":"8 mins."},"categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","count":5,"path":"api/categories/å‰ç«¯.json"},{"name":"Three.JS","slug":"å‰ç«¯/Three-JS","count":1,"path":"api/categories/å‰ç«¯/Three-JS.json"}],"tags":[{"name":"å‰ç«¯ webGL WEB3d WebGIS","slug":"å‰ç«¯-webGL-WEB3d-WebGIS","count":1,"path":"api/tags/å‰ç«¯-webGL-WEB3d-WebGIS.json"}],"author":{"name":"å‰ç«¯å°‘å¹´æ±ª","slug":"blog-author","avatar":"https://p3-passport.byteimg.com/img/user-avatar/46cf67c329246db441271a06f6132633~100x100.awebp","link":"/","description":"ä¸€ä¸ªè¿½é€æŠ€æœ¯çš„å…¨æ ˆå·¥ç¨‹å¸ˆ <br /> @ <b>å…¬ä¼—å·ï¼šå‰ç«¯å°‘å¹´æ±ª</b>","socials":{"github":"https://github.com/frontendBoy-Wang","twitter":"","stackoverflow":"https://stackoverflow.com/users/16856904/frontendboy-wang","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/people/qian-ke-sao-ren-wmq","csdn":"https://blog.csdn.net/qq_44647871?spm=1010.2135.3001.5421","juejin":"https://juejin.cn/user/3570847174897447","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/392982262"}}}},"feature":true},"next_post":{"title":"å‰ç«¯å¸¸ç”¨utilså·¥å…·æ–¹æ³•å°æ€»ç»“","uid":"6e4714c942a17b3887506964ab896786","slug":"js/å‰ç«¯å¸¸ç”¨utilså·¥å…·æ–¹æ³•å°æ€»ç»“","date":"2024-04-17T02:46:35.000Z","updated":"2024-12-25T06:40:06.000Z","comments":true,"path":"api/articles/js/å‰ç«¯å¸¸ç”¨utilså·¥å…·æ–¹æ³•å°æ€»ç»“.json","keywords":"å‰ç«¯å°‘å¹´æ±ª,å‰ç«¯,åç«¯,å…¨æ ˆå·¥ç¨‹å¸ˆ,ç¨‹åºå‘˜,vue,react,Golang,Java,JavaScript,Python,frontendBoy-Wang","cover":"../img/47.png","text":" å‰ç«¯å¸¸ç”¨utilså·¥å…·æ–¹æ³•å°æ€»ç»“ &#x2F;&#x2F; æ•°ç»„å»é‡ const uniqueArray &#x3D; arr &#x3D;&gt; [...new Set(arr)]; &#x2F;&#x2F; ä»urlè·å–å‚æ•°ï¼Œå¹¶ä¸”è½¬æ¢æˆå¯¹è±¡ const getParame...","link":"","photos":[],"count_time":{"symbolsCount":"11k","symbolsTime":"10 mins."},"categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","count":5,"path":"api/categories/å‰ç«¯.json"}],"tags":[{"name":"å·¥å…·æ–¹æ³•","slug":"å·¥å…·æ–¹æ³•","count":1,"path":"api/tags/å·¥å…·æ–¹æ³•.json"}],"author":{"name":"å‰ç«¯å°‘å¹´æ±ª","slug":"blog-author","avatar":"https://p3-passport.byteimg.com/img/user-avatar/46cf67c329246db441271a06f6132633~100x100.awebp","link":"/","description":"ä¸€ä¸ªè¿½é€æŠ€æœ¯çš„å…¨æ ˆå·¥ç¨‹å¸ˆ <br /> @ <b>å…¬ä¼—å·ï¼šå‰ç«¯å°‘å¹´æ±ª</b>","socials":{"github":"https://github.com/frontendBoy-Wang","twitter":"","stackoverflow":"https://stackoverflow.com/users/16856904/frontendboy-wang","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/people/qian-ke-sao-ren-wmq","csdn":"https://blog.csdn.net/qq_44647871?spm=1010.2135.3001.5421","juejin":"https://juejin.cn/user/3570847174897447","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/392982262"}}}},"feature":false}}