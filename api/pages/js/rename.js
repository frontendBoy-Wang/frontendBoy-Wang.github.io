{"title":"","uid":"1cd19fc71517798e2fa5b7457d1fb06e","text":"const fs = require('fs'); const path = require('path'); function renameImages(directory) { // 读取目录下的所有文件 fs.readdir(directory, (err, files) ...","date":"2024-12-25T06:41:25.841Z","updated":"2024-12-25T06:41:25.841Z","comments":true,"path":"api/pages/js/rename.js","covers":null,"excerpt":"","content":"const fs = require('fs');\nconst path = require('path');\n\nfunction renameImages(directory) {\n    // 读取目录下的所有文件\n    fs.readdir(directory, (err, files) => {\n        if (err) {\n            console.error('Error reading directory:', err);\n            return;\n        }\n\n        // 遍历所有文件\n        files.forEach((file, index) => {\n            // 获取文件的完整路径\n            const oldPath = path.join(directory, file);\n\n            // 判断是否为文件夹，如果是则递归调用该方法\n            fs.stat(oldPath, (err, stats) => {\n                if (err) {\n                    console.error(`Error stating file ${file}:`, err);\n                    return;\n                }\n\n                if (stats.isDirectory()) {\n                    renameImages(oldPath);\n                    return;\n                }\n\n                // 生成新的文件名\n                const extension = path.extname(file); // 获取文件扩展名\n                const newFileName = `${index + 1}${extension}`; // 修改为你想要的命名格式\n\n                // 构建新的文件路径\n                const newPath = path.join(directory, newFileName);\n\n                // 重命名文件\n                fs.rename(oldPath, newPath, err => {\n                    if (err) {\n                        console.error(`Error renaming file ${file}:`, err);\n                    } else {\n                        console.log(`Renamed file ${file} to ${newFileName}`);\n                    }\n                });\n            });\n        });\n    });\n}\n\n// 调用方法，传入图片所在的目录路径\nrenameImages('./img');\n","count_time":{"symbolsCount":"1.5k","symbolsTime":"1 mins."},"toc":""}